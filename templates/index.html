<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Insurance Charges Predictor</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container_fluid">
        <div class="header-card">
            <h1>Predict medical charges<br><span class="highlight">in seconds</span></h1>
            <p class="subtitle">
                Enter patient details and get an instant prediction powered by <strong>Machine Learning</strong>.
            </p>
        </div>
        <div class="container">
    
            <!-- Left Column -->
            <div class="left-col">
    
            <form action="/predict" method="post" class="form-card">
                <div class="form-row">
                    <div class="form-group">
                        <label>Age</label>
                        <input type="number" name="age" placeholder="Enter Age: (e.g. 25)" required>
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <select name="sex"><option value="male">Male</option><option value="female">Female</option></select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>BMI</label>
                        <input type="number" step="0.1" name="bmi" placeholder="Body Mass Index: (e.g. 25.0)" required>
                    </div>
                    <div class="form-group">
                        <label>Children</label>
                        <input type="number" name="children" placeholder="Enter Number of Children: (e.g. 2)" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Smoker</label>
                        <select name="smoker"><option value="yes">Yes</option><option value="no">No</option></select>
                    </div>
                    <div class="form-group">
                        <label>Region</label>
                        <select name="region">
                            <option value="northeast">Northeast</option>
                            <option value="northwest">Northwest</option>
                            <option value="southeast">Southeast</option>
                            <option value="southwest">Southwest</option>
                        </select>
                    </div>
                </div>
                
                <button type="submit" class="btn"> <i class="fa-solid fa-arrow-right"></i> Predict</button>
            </form>
            </div>
    
            <!-- Right Column -->
            <div class="right-col">
            
            <div class="result-card">
                <h2>Predicted Charges</h2>
                <div class="charge-display">
                <span>$</span><span id="charge-amount">00.00</span>
                </div>
                <p class="method">Medical Charges</p>
                <!-- <p class="alt-method">Linear Regression: ${{prediction_lin}}</p> -->
            </div>
    
            </div>
        </div>
    </div>
  <script>
    // Counter animation
    let target = {{prediction_rf | safe}};
    let duration = 2000, stepTime = 20;
    let steps = duration / stepTime;
    let increment = target / steps, current = 0;
    let counter = document.getElementById("charge-amount");
    let interval = setInterval(() => {
      current += increment;
      if (current >= target) { current = target; clearInterval(interval); }
      counter.textContent = current.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
    }, stepTime);
  </script>
</body>
</html>
